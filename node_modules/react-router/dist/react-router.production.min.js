/**
 * React Router v6.4.0-pre.9
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{invariant as e,resolveTo as t,joinPaths as n,matchPath as r,parsePath as a,matchRoutes as o,isDeferredError as l,isRouteErrorResponse as i,createMemoryRouter as u,createMemoryHistory as s,stripBasename as c,Action as m}from"@remix-run/router";export{Action as NavigationType,createPath,deferred,generatePath,isDeferredError,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,resolvePath}from"@remix-run/router";import*as h from"react";const p="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:d,useEffect:f,useLayoutEffect:v,useDebugValue:E}=h;function g(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!p(n,e)}catch(r){return!0}}const x=!!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:a},o]=d({inst:{value:r,getSnapshot:t}});return v((()=>{a.value=r,a.getSnapshot=t,g(a)&&o({inst:a})}),[e,r,t]),f((()=>{g(a)&&o({inst:a});return e((()=>{g(a)&&o({inst:a})}))}),[e]),E(r),r},C="useSyncExternalStore"in h?h.useSyncExternalStore:x,y=h.createContext(null),b=h.createContext(null),S=h.createContext(null),R=h.createContext(null),D=h.createContext(null),U=h.createContext({outlet:null,matches:[]}),P=h.createContext(null);function N(t){w()||e(!1);let{basename:r,navigator:a}=h.useContext(R),{hash:o,pathname:l,search:i}=I(t),u=l;return"/"!==r&&(u="/"===l?r:n([r,l])),a.createHref({pathname:u,search:i,hash:o})}function w(){return null!=h.useContext(D)}function k(){return w()||e(!1),h.useContext(D).location}function F(){return h.useContext(D).navigationType}function A(t){w()||e(!1);let{pathname:n}=k();return h.useMemo((()=>r(t,n)),[n,t])}function M(e){return e.filter(((t,n)=>0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase))}function O(){w()||e(!1);let{basename:r,navigator:a}=h.useContext(R),{matches:o}=h.useContext(U),{pathname:l}=k(),i=JSON.stringify(M(o).map((e=>e.pathnameBase))),u=h.useRef(!1);return h.useEffect((()=>{u.current=!0})),h.useCallback(((e,o={})=>{if(!u.current)return;if("number"==typeof e)return void a.go(e);let s=t(e,JSON.parse(i),l);"/"!==r&&(s.pathname="/"===s.pathname?r:n([r,s.pathname])),(o.replace?a.replace:a.push)(s,o.state,o)}),[r,a,i,l])}const L=h.createContext(null);function B(){return h.useContext(L)}function T(e){let t=h.useContext(U).outlet;return t?h.createElement(L.Provider,{value:e},t):t}function j(){let{matches:e}=h.useContext(U),t=e[e.length-1];return t?t.params:{}}function I(e){let{matches:n}=h.useContext(U),{pathname:r}=k(),a=JSON.stringify(M(n).map((e=>e.pathnameBase)));return h.useMemo((()=>t(e,JSON.parse(a),r)),[e,a,r])}function J(t,r){w()||e(!1);let l=h.useContext(b),{matches:i}=h.useContext(U),u=i[i.length-1],s=u?u.params:{};!u||u.pathname;let c=u?u.pathnameBase:"/";u&&u.route;let m,p=k();if(r){let t="string"==typeof r?a(r):r;"/"===c||t.pathname?.startsWith(c)||e(!1),m=t}else m=p;let d=m.pathname||"/",f="/"===c?d:d.slice(c.length)||"/",v=o(t,{pathname:f});return z(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:n([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:n([c,e.pathnameBase])}))),i,l||void 0)}function _(){let e=Q(),t=i(e)?`${e.status} ${e.statusText}`:e?.message||JSON.stringify(e),n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unhandled Thrown Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),e?.stack?h.createElement("pre",{style:r},e?.stack):null,h.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",h.createElement("code",{style:a},"errorElement")," props onÂ ",h.createElement("code",{style:a},"<Route>")))}class H extends h.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?h.createElement(P.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function z(t,n=[],r){if(null==t){if(!r?.errors)return null;t=r.matches}let a=t,o=r?.errors;if(null!=o){let t=a.findIndex((e=>e.route.id&&o?.[e.route.id]));t>=0||e(!1),a=a.slice(0,Math.min(a.length,t+1))}return a.reduceRight(((e,t,l)=>{let i=t.route.id?o?.[t.route.id]:null,u=r?t.route.errorElement||h.createElement(_,null):null,s=()=>h.createElement(U.Provider,{children:i?u:void 0!==t.route.element?t.route.element:e,value:{outlet:e,matches:n.concat(a.slice(0,l+1))}});return r&&(t.route.errorElement||0===l)?h.createElement(H,{location:r.location,component:u,error:i,children:s()}):s()}),null)}var V;function $(t){let n=h.useContext(b);return n||e(!1),n}function W(){return $(V.UseNavigation).navigation}function X(){let t=h.useContext(y);t||e(!1);let n=$(V.UseRevalidator);return{revalidate:t.revalidate,state:n.revalidation}}function Y(){let{matches:e,loaderData:t}=$(V.UseMatches);return h.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])}function q(){let t=$(V.UseLoaderData),n=h.useContext(U);n||e(!1);let r=n.matches[n.matches.length-1];return r.route.id||e(!1),t.loaderData[r.route.id]}function G(e){return $(V.UseRouteLoaderData).loaderData[e]}function K(){let t=$(V.UseActionData);return h.useContext(U)||e(!1),Object.values(t?.actionData||{})[0]}function Q(){let t=h.useContext(P),n=$(V.UseRouteError),r=h.useContext(U),a=r.matches[r.matches.length-1],o=h.useContext(S);return o&&l(o)?o:t||(r||e(!1),a.route.id||e(!1),n.errors?.[a.route.id])}function Z(){return h.useContext(S)}let ee;function te({basename:e,children:t,fallbackElement:n,routes:r,createRouter:a}){ee||(ee=a(r||pe(t)).initialize());let o=ee,l=C(o.subscribe,(()=>o.state)),i=h.useMemo((()=>({createHref:o.createHref,go:e=>o.navigate(e),push:(e,t,n)=>o.navigate(e,{state:t,resetScroll:n?.resetScroll}),replace:(e,t,n)=>o.navigate(e,{replace:!0,state:t,resetScroll:n?.resetScroll})})),[o]);return l.initialized?h.createElement(y.Provider,{value:o},h.createElement(b.Provider,{value:l},h.createElement(ie,{basename:e,location:l.location,navigationType:l.historyAction,navigator:i},h.createElement(se,{routes:r,children:t})))):h.createElement(h.Fragment,null,n)}function ne({basename:e,children:t,initialEntries:n,initialIndex:r,hydrationData:a,fallbackElement:o,routes:l}){return te({basename:e,children:t,fallbackElement:o,routes:l,createRouter:t=>u({basename:e,initialEntries:n,initialIndex:r,routes:t,hydrationData:a})})}function re({basename:e,children:t,initialEntries:n,initialIndex:r}){let a=h.useRef();null==a.current&&(a.current=s({initialEntries:n,initialIndex:r,v5Compat:!0}));let o=a.current,[l,i]=h.useState({action:o.action,location:o.location});return h.useLayoutEffect((()=>o.listen(i)),[o]),h.createElement(ie,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}function ae({to:t,replace:n,state:r}){w()||e(!1);let a=O();return h.useEffect((()=>{a(t,{replace:n,state:r})})),null}function oe(e){return T(e.context)}function le(t){e(!1)}function ie({basename:t="/",children:n=null,location:r,navigationType:o=m.Pop,navigator:l,static:i=!1}){w()&&e(!1);let u=t.replace(/^\/*/,"/"),s=h.useMemo((()=>({basename:u,navigator:l,static:i})),[u,l,i]);"string"==typeof r&&(r=a(r));let{pathname:p="/",search:d="",hash:f="",state:v=null,key:E="default"}=r,g=h.useMemo((()=>{let e=c(p,u);return null==e?null:{pathname:e,search:d,hash:f,state:v,key:E}}),[u,p,d,f,v,E]);return null==g?null:h.createElement(R.Provider,{value:s},h.createElement(D.Provider,{children:n,value:{location:g,navigationType:o}}))}function ue({children:e,location:t}){return J(pe(e),t)}function se({children:e,location:t,routes:n}){return J(n||pe(e),t)}function ce({children:e,value:t,fallback:n,errorElement:r}){return h.createElement(S.Provider,{value:t},h.createElement(h.Suspense,{fallback:n},h.createElement(me,{errorElement:r},"function"==typeof e?h.createElement(he,{children:e}):e)))}function me({children:e,errorElement:t}){let n=h.useContext(S);if(n instanceof Promise)throw n;if(l(n)){if(t)return h.createElement(h.Fragment,null,t);throw n}return h.createElement(h.Fragment,null,e)}function he({children:e}){return e(Z())}function pe(t,n=[]){let r=[];return h.Children.forEach(t,((t,a)=>{if(!h.isValidElement(t))return;if(t.type===h.Fragment)return void r.push.apply(r,pe(t.props.children,n));t.type!==le&&e(!1);let o=[...n,a],l={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(l.children=pe(t.props.children,o)),r.push(l)})),r}function de(e){return z(e)}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(V||(V={}));export{ne as DataMemoryRouter,ce as Deferred,re as MemoryRouter,ae as Navigate,oe as Outlet,le as Route,ie as Router,ue as Routes,y as UNSAFE_DataRouterContext,b as UNSAFE_DataRouterStateContext,D as UNSAFE_LocationContext,R as UNSAFE_NavigationContext,U as UNSAFE_RouteContext,pe as createRoutesFromChildren,de as renderMatches,K as useActionData,Z as useDeferredData,N as useHref,w as useInRouterContext,q as useLoaderData,k as useLocation,A as useMatch,Y as useMatches,O as useNavigate,W as useNavigation,F as useNavigationType,T as useOutlet,B as useOutletContext,j as useParams,te as useRenderDataRouter,I as useResolvedPath,X as useRevalidator,Q as useRouteError,G as useRouteLoaderData,J as useRoutes};
//# sourceMappingURL=react-router.production.min.js.map
