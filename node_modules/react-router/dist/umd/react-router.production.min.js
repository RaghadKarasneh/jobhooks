/**
 * React Router v6.4.0-pre.9
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@remix-run/router"),require("react")):"function"==typeof define&&define.amd?define(["exports","@remix-run/router","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactRouter={},e.Router,e.React)}(this,(function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=r(n);const o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:i,useEffect:u,useLayoutEffect:l,useDebugValue:s}=a;function c(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!o(n,e)}catch(e){return!0}}const d=!!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:a},o]=i({inst:{value:r,getSnapshot:t}});return l((()=>{a.value=r,a.getSnapshot=t,c(a)&&o({inst:a})}),[e,r,t]),u((()=>{c(a)&&o({inst:a});return e((()=>{c(a)&&o({inst:a})}))}),[e]),s(r),r},m="useSyncExternalStore"in a?(e=>e.useSyncExternalStore)(a):d,h=a.createContext(null),p=a.createContext(null),f=a.createContext(null),v=a.createContext(null),g=a.createContext(null),E=a.createContext({outlet:null,matches:[]}),b=a.createContext(null);function y(){return null!=a.useContext(g)}function x(){return y()||t.invariant(!1),a.useContext(g).location}function R(e){return e.filter(((t,n)=>0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase))}function P(){y()||t.invariant(!1);let{basename:e,navigator:n}=a.useContext(v),{matches:r}=a.useContext(E),{pathname:o}=x(),i=JSON.stringify(R(r).map((e=>e.pathnameBase))),u=a.useRef(!1);return a.useEffect((()=>{u.current=!0})),a.useCallback((function(r,a){if(void 0===a&&(a={}),!u.current)return;if("number"==typeof r)return void n.go(r);let l=t.resolveTo(r,JSON.parse(i),o);"/"!==e&&(l.pathname="/"===l.pathname?e:t.joinPaths([e,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[e,n,i,o])}const C=a.createContext(null);function D(e){let t=a.useContext(E).outlet;return t?a.createElement(C.Provider,{value:e},t):t}function O(e){let{matches:n}=a.useContext(E),{pathname:r}=x(),o=JSON.stringify(R(n).map((e=>e.pathnameBase)));return a.useMemo((()=>t.resolveTo(e,JSON.parse(o),r)),[e,o,r])}function j(e,n){y()||t.invariant(!1);let r=a.useContext(p),{matches:o}=a.useContext(E),i=o[o.length-1],u=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let s,c=x();if(n){var d;let e="string"==typeof n?t.parsePath(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||t.invariant(!1),s=e}else s=c;let m=s.pathname||"/",h="/"===l?m:m.slice(l.length)||"/",f=t.matchRoutes(e,{pathname:h});return M(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:t.joinPaths([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:t.joinPaths([l,e.pathnameBase])}))),o,r||void 0)}function S(){let e=k(),n=t.isRouteErrorResponse(e)?e.status+" "+e.statusText:(null==e?void 0:e.message)||JSON.stringify(e),r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unhandled Thrown Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},n),null!=e&&e.stack?a.createElement("pre",{style:o},null==e?void 0:e.stack):null,a.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",a.createElement("code",{style:i},"errorElement")," props onÂ ",a.createElement("code",{style:i},"<Route>")))}class U extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(b.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function M(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let o=e,i=null==r?void 0:r.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||t.invariant(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,t,u)=>{let l=t.route.id?null==i?void 0:i[t.route.id]:null,s=r?t.route.errorElement||a.createElement(S,null):null,c=()=>a.createElement(E.Provider,{children:l?s:void 0!==t.route.element?t.route.element:e,value:{outlet:e,matches:n.concat(o.slice(0,u+1))}});return r&&(t.route.errorElement||0===u)?a.createElement(U,{location:r.location,component:s,error:l,children:c()}):c()}),null)}var N;function w(e){let n=a.useContext(p);return n||t.invariant(!1),n}function k(){var e;let n=a.useContext(b),r=w(N.UseRouteError),o=a.useContext(E),i=o.matches[o.matches.length-1],u=a.useContext(f);return u&&t.isDeferredError(u)?u:n||(o||t.invariant(!1),i.route.id||t.invariant(!1),null==(e=r.errors)?void 0:e[i.route.id])}function F(){return a.useContext(f)}let T;function A(e){let{basename:t,children:n,fallbackElement:r,routes:o,createRouter:i}=e;T||(T=i(o||J(n)).initialize());let u=T,l=m(u.subscribe,(()=>u.state)),s=a.useMemo((()=>({createHref:u.createHref,go:e=>u.navigate(e),push:(e,t,n)=>u.navigate(e,{state:t,resetScroll:null==n?void 0:n.resetScroll}),replace:(e,t,n)=>u.navigate(e,{replace:!0,state:t,resetScroll:null==n?void 0:n.resetScroll})})),[u]);return l.initialized?a.createElement(h.Provider,{value:u},a.createElement(p.Provider,{value:l},a.createElement(B,{basename:t,location:l.location,navigationType:l.historyAction,navigator:s},a.createElement(_,{routes:o,children:n})))):a.createElement(a.Fragment,null,r)}function L(e){t.invariant(!1)}function B(e){let{basename:n="/",children:r=null,location:o,navigationType:i=t.Action.Pop,navigator:u,static:l=!1}=e;y()&&t.invariant(!1);let s=n.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:s,navigator:u,static:l})),[s,u,l]);"string"==typeof o&&(o=t.parsePath(o));let{pathname:d="/",search:m="",hash:h="",state:p=null,key:f="default"}=o,E=a.useMemo((()=>{let e=t.stripBasename(d,s);return null==e?null:{pathname:e,search:m,hash:h,state:p,key:f}}),[s,d,m,h,p,f]);return null==E?null:a.createElement(v.Provider,{value:c},a.createElement(g.Provider,{children:r,value:{location:E,navigationType:i}}))}function _(e){let{children:t,location:n,routes:r}=e;return j(r||J(t),n)}function H(e){let{children:n,errorElement:r}=e,o=a.useContext(f);if(o instanceof Promise)throw o;if(t.isDeferredError(o)){if(r)return a.createElement(a.Fragment,null,r);throw o}return a.createElement(a.Fragment,null,n)}function I(e){let{children:t}=e;return t(F())}function J(e,n){void 0===n&&(n=[]);let r=[];return a.Children.forEach(e,((e,o)=>{if(!a.isValidElement(e))return;if(e.type===a.Fragment)return void r.push.apply(r,J(e.props.children,n));e.type!==L&&t.invariant(!1);let i=[...n,o],u={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(u.children=J(e.props.children,i)),r.push(u)})),r}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(N||(N={})),Object.defineProperty(e,"NavigationType",{enumerable:!0,get:function(){return t.Action}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return t.createPath}}),Object.defineProperty(e,"deferred",{enumerable:!0,get:function(){return t.deferred}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return t.generatePath}}),Object.defineProperty(e,"isDeferredError",{enumerable:!0,get:function(){return t.isDeferredError}}),Object.defineProperty(e,"isRouteErrorResponse",{enumerable:!0,get:function(){return t.isRouteErrorResponse}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return t.json}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return t.matchPath}}),Object.defineProperty(e,"matchRoutes",{enumerable:!0,get:function(){return t.matchRoutes}}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return t.parsePath}}),Object.defineProperty(e,"redirect",{enumerable:!0,get:function(){return t.redirect}}),Object.defineProperty(e,"resolvePath",{enumerable:!0,get:function(){return t.resolvePath}}),e.DataMemoryRouter=function(e){let{basename:n,children:r,initialEntries:a,initialIndex:o,hydrationData:i,fallbackElement:u,routes:l}=e;return A({basename:n,children:r,fallbackElement:u,routes:l,createRouter:e=>t.createMemoryRouter({basename:n,initialEntries:a,initialIndex:o,routes:e,hydrationData:i})})},e.Deferred=function(e){let{children:t,value:n,fallback:r,errorElement:o}=e;return a.createElement(f.Provider,{value:n},a.createElement(a.Suspense,{fallback:r},a.createElement(H,{errorElement:o},"function"==typeof t?a.createElement(I,{children:t}):t)))},e.MemoryRouter=function(e){let{basename:n,children:r,initialEntries:o,initialIndex:i}=e,u=a.useRef();null==u.current&&(u.current=t.createMemoryHistory({initialEntries:o,initialIndex:i,v5Compat:!0}));let l=u.current,[s,c]=a.useState({action:l.action,location:l.location});return a.useLayoutEffect((()=>l.listen(c)),[l]),a.createElement(B,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:l})},e.Navigate=function(e){let{to:n,replace:r,state:o}=e;y()||t.invariant(!1);let i=P();return a.useEffect((()=>{i(n,{replace:r,state:o})})),null},e.Outlet=function(e){return D(e.context)},e.Route=L,e.Router=B,e.Routes=function(e){let{children:t,location:n}=e;return j(J(t),n)},e.UNSAFE_DataRouterContext=h,e.UNSAFE_DataRouterStateContext=p,e.UNSAFE_LocationContext=g,e.UNSAFE_NavigationContext=v,e.UNSAFE_RouteContext=E,e.createRoutesFromChildren=J,e.renderMatches=function(e){return M(e)},e.useActionData=function(){let e=w(N.UseActionData);return a.useContext(E)||t.invariant(!1),Object.values((null==e?void 0:e.actionData)||{})[0]},e.useDeferredData=F,e.useHref=function(e){y()||t.invariant(!1);let{basename:n,navigator:r}=a.useContext(v),{hash:o,pathname:i,search:u}=O(e),l=i;return"/"!==n&&(l="/"===i?n:t.joinPaths([n,i])),r.createHref({pathname:l,search:u,hash:o})},e.useInRouterContext=y,e.useLoaderData=function(){let e=w(N.UseLoaderData),n=a.useContext(E);n||t.invariant(!1);let r=n.matches[n.matches.length-1];return r.route.id||t.invariant(!1),e.loaderData[r.route.id]},e.useLocation=x,e.useMatch=function(e){y()||t.invariant(!1);let{pathname:n}=x();return a.useMemo((()=>t.matchPath(e,n)),[n,e])},e.useMatches=function(){let{matches:e,loaderData:t}=w(N.UseMatches);return a.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])},e.useNavigate=P,e.useNavigation=function(){return w(N.UseNavigation).navigation},e.useNavigationType=function(){return a.useContext(g).navigationType},e.useOutlet=D,e.useOutletContext=function(){return a.useContext(C)},e.useParams=function(){let{matches:e}=a.useContext(E),t=e[e.length-1];return t?t.params:{}},e.useRenderDataRouter=A,e.useResolvedPath=O,e.useRevalidator=function(){let e=a.useContext(h);e||t.invariant(!1);let n=w(N.UseRevalidator);return{revalidate:e.revalidate,state:n.revalidation}},e.useRouteError=k,e.useRouteLoaderData=function(e){return w(N.UseRouteLoaderData).loaderData[e]},e.useRoutes=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-router.production.min.js.map
